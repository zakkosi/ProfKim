{
  "doc_id": "pages_232_234",
  "text": "210\nComputer Vision: Algorithms and Applications (September 3, 2010 draft)\nxi\nxi+u\nu\ni\n(a)\n(b)\n(c)\nFigure 4.4\nAperture problems for different image patches: (a) stable (“corner-like”) ﬂow;\n(b) classic aperture problem (barber-pole illusion); (c) textureless region. The two images I0\n(yellow) and I1 (red) are overlaid. The red vector u indicates the displacement between the\npatch centers and the w(xi) weighting function (patch window) is shown as a dark circle.\ngradients in at least two (signiﬁcantly) different orientations are the easiest to localize, as\nshown schematically in Figure 4.4a.\nThese intuitions can be formalized by looking at the simplest possible matching criterion\nfor comparing two image patches, i.e., their (weighted) summed square difference,\nEWSSD(u) =\nX\ni\nw(xi)[I1(xi + u) −I0(xi)]2,\n(4.1)\nwhere I0 and I1 are the two images being compared, u = (u, v) is the displacement vector,\nw(x) is a spatially varying weighting (or window) function, and the summation i is over all\nthe pixels in the patch. Note that this is the same formulation we later use to estimate motion\nbetween complete images (Section 8.1).\nWhen performing feature detection, we do not know which other image locations the\nfeature will end up being matched against. Therefore, we can only compute how stable this\nmetric is with respect to small variations in position ∆u by comparing an image patch against\nitself, which is known as an auto-correlation function or surface\nEAC(∆u) =\nX\ni\nw(xi)[I0(xi + ∆u) −I0(xi)]2\n(4.2)\n(Figure 4.5).1 Note how the auto-correlation surface for the textured ﬂower bed (Figure 4.5b\nand the red cross in the lower right quadrant of Figure 4.5a) exhibits a strong minimum,\nindicating that it can be well localized. The correlation surface corresponding to the roof\nedge (Figure 4.5c) has a strong ambiguity along one direction, while the correlation surface\ncorresponding to the cloud region (Figure 4.5d) has no stable minimum.\n1 Strictly speaking, a correlation is the product of two patches (3.12); I’m using the term here in a more qualitative\nsense. The weighted sum of squared differences is often called an SSD surface (Section 8.1).\n4.1 Points and patches\n211\n(a)\n(b)\n(c)\n(d)\nFigure 4.5 Three auto-correlation surfaces EAC(∆u) shown as both grayscale images and\nsurface plots: (a) The original image is marked with three red crosses to denote where the\nauto-correlation surfaces were computed; (b) this patch is from the ﬂower bed (good unique\nminimum); (c) this patch is from the roof edge (one-dimensional aperture problem); and (d)\nthis patch is from the cloud (no good peak). Each grid point in ﬁgures b–d is one value of\n∆u.\n212\nComputer Vision: Algorithms and Applications (September 3, 2010 draft)\nUsing a Taylor Series expansion of the image function I0(xi+∆u) ≈I0(xi)+∇I0(xi)·\n∆u (Lucas and Kanade 1981; Shi and Tomasi 1994), we can approximate the auto-correlation\nsurface as\nEAC(∆u)\n=\nX\ni\nw(xi)[I0(xi + ∆u) −I0(xi)]2\n(4.3)\n≈\nX\ni\nw(xi)[I0(xi) + ∇I0(xi) · ∆u −I0(xi)]2\n(4.4)\n=\nX\ni\nw(xi)[∇I0(xi) · ∆u]2\n(4.5)\n=\n∆uT A∆u,\n(4.6)\nwhere\n∇I0(xi) = (∂I0\n∂x , ∂I0\n∂y )(xi)\n(4.7)\nis the image gradient at xi. This gradient can be computed using a variety of techniques\n(Schmid, Mohr, and Bauckhage 2000). The classic “Harris” detector (Harris and Stephens\n1988) uses a [-2 -1 0 1 2] ﬁlter, but more modern variants (Schmid, Mohr, and Bauckhage\n2000; Triggs 2004) convolve the image with horizontal and vertical derivatives of a Gaussian\n(typically with σ = 1).\nThe auto-correlation matrix A can be written as\nA = w ∗\n\"\nI2\nx\nIxIy\nIxIy\nI2\ny\n#\n,\n(4.8)\nwhere we have replaced the weighted summations with discrete convolutions with the weight-\ning kernel w. This matrix can be interpreted as a tensor (multiband) image, where the outer\nproducts of the gradients ∇I are convolved with a weighting function w to provide a per-pixel\nestimate of the local (quadratic) shape of the auto-correlation function.\nAs ﬁrst shown by Anandan (1984; 1989) and further discussed in Section 8.1.3 and (8.44),\nthe inverse of the matrix A provides a lower bound on the uncertainty in the location of a\nmatching patch. It is therefore a useful indicator of which patches can be reliably matched.\nThe easiest way to visualize and reason about this uncertainty is to perform an eigenvalue\nanalysis of the auto-correlation matrix A, which produces two eigenvalues (λ0, λ1) and two\neigenvector directions (Figure 4.6). Since the larger uncertainty depends on the smaller eigen-\nvalue, i.e., λ−1/2\n0\n, it makes sense to ﬁnd maxima in the smaller eigenvalue to locate good\nfeatures to track (Shi and Tomasi 1994).\nF¨orstner–Harris.\nWhile Anandan and Lucas and Kanade (1981) were the ﬁrst to analyze\nthe uncertainty structure of the auto-correlation matrix, they did so in the context of asso-\nciating certainties with optic ﬂow measurements. F¨orstner (1986) and Harris and Stephens",
  "image_path": "page_233.jpg",
  "pages": [
    232,
    233,
    234
  ]
}