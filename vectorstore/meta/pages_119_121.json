{
  "doc_id": "pages_119_121",
  "text": "2.5 Exercises\n97\n6. Does a simpler chromaticity measurement, such as a color ratio (2.116), work just as\nwell?\nEx 2.9: White point balancing—tricky\nA common (in-camera or post-processing) tech-\nnique for performing white point adjustment is to take a picture of a white piece of paper and\nto adjust the RGB values of an image to make this a neutral color.\n1. Describe how you would adjust the RGB values in an image given a sample “white\ncolor” of (Rw, Gw, Bw) to make this color neutral (without changing the exposure too\nmuch).\n2. Does your transformation involve a simple (per-channel) scaling of the RGB values or\ndo you need a full 3 × 3 color twist matrix (or something else)?\n3. Convert your RGB values to XYZ. Does the appropriate correction now only depend\non the XY (or xy) values? If so, when you convert back to RGB space, do you need a\nfull 3 × 3 color twist matrix to achieve the same effect?\n4. If you used pure diagonal scaling in the direct RGB mode but end up with a twist if you\nwork in XYZ space, how do you explain this apparent dichotomy? Which approach is\ncorrect? (Or is it possible that neither approach is actually correct?)\nIf you want to ﬁnd out what your camera actually does, continue on to the next exercise.\nEx 2.10: In-camera color processing—challenging\nIf your camera supports a RAW pixel\nmode, take a pair of RAW and JPEG images, and see if you can infer what the camera is doing\nwhen it converts the RAW pixel values to the ﬁnal color-corrected and gamma-compressed\neight-bit JPEG pixel values.\n1. Deduce the pattern in your color ﬁlter array from the correspondence between co-\nlocated RAW and color-mapped pixel values. Use a color checker chart at this stage\nif it makes your life easier. You may ﬁnd it helpful to split the RAW image into four\nseparate images (subsampling even and odd columns and rows) and to treat each of\nthese new images as a “virtual” sensor.\n2. Evaluate the quality of the demosaicing algorithm by taking pictures of challenging\nscenes which contain strong color edges (such as those shown in in Section 10.3.1).\n3. If you can take the same exact picture after changing the color balance values in your\ncamera, compare how these settings affect this processing.\n4. Compare your results against those presented by Chakrabarti, Scharstein, and Zickler\n(2009) or use the data available in their database of color images.26\n26 http://vision.middlebury.edu/color/.\n98\nComputer Vision: Algorithms and Applications (September 3, 2010 draft)\nChapter 3\nImage processing\n3.1\nPoint operators . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n101\n3.1.1\nPixel transforms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n103\n3.1.2\nColor transforms\n. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n104\n3.1.3\nCompositing and matting . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n105\n3.1.4\nHistogram equalization . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n107\n3.1.5\nApplication: Tonal adjustment\n. . . . . . . . . . . . . . . . . . . . . . . . .\n111\n3.2\nLinear ﬁltering . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n111\n3.2.1\nSeparable ﬁltering . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n115\n3.2.2\nExamples of linear ﬁltering . . . . . . . . . . . . . . . . . . . . . . . . . . .\n117\n3.2.3\nBand-pass and steerable ﬁlters\n. . . . . . . . . . . . . . . . . . . . . . . . .\n118\n3.3\nMore neighborhood operators . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n122\n3.3.1\nNon-linear ﬁltering . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n122\n3.3.2\nMorphology . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n127\n3.3.3\nDistance transforms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n129\n3.3.4\nConnected components . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n131\n3.4\nFourier transforms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n132\n3.4.1\nFourier transform pairs\n. . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n136\n3.4.2\nTwo-dimensional Fourier transforms . . . . . . . . . . . . . . . . . . . . . .\n140\n3.4.3\nWiener ﬁltering . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n140\n3.4.4\nApplication: Sharpening, blur, and noise removal . . . . . . . . . . . . . . . .\n144\n3.5\nPyramids and wavelets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n144\n3.5.1\nInterpolation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n145\n3.5.2\nDecimation\n. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n148\n3.5.3\nMulti-resolution representations . . . . . . . . . . . . . . . . . . . . . . . . .\n150\n3.5.4\nWavelets . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n154\n3.5.5\nApplication: Image blending\n. . . . . . . . . . . . . . . . . . . . . . . . . .\n160\n3.6\nGeometric transformations\n. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n162\n3.6.1\nParametric transformations . . . . . . . . . . . . . . . . . . . . . . . . . . .\n163\n3.6.2\nMesh-based warping\n. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n170\n3.6.3\nApplication: Feature-based morphing . . . . . . . . . . . . . . . . . . . . . .\n173\n3.7\nGlobal optimization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n174\n3.7.1\nRegularization . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n174\n3.7.2\nMarkov random ﬁelds . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n180\n3.7.3\nApplication: Image restoration\n. . . . . . . . . . . . . . . . . . . . . . . . .\n192\n3.8\nAdditional reading . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n192\n3.9\nExercises . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .\n194",
  "image_path": "page_120.jpg",
  "pages": [
    119,
    120,
    121
  ]
}